<mat-toolbar class="mat-elevation-z4" color="primary" style="position: sticky; top: 0; z-index: 1;">
  <span>AVR Modem</span>
  <span class="spacer" style="flex: 1 1 auto;"></span>
  <a routerLink="/settings" mat-icon-button aria-label="AVR Modem Settings">
    <mat-icon>settings</mat-icon>
  </a>
  <a routerLink="/help" mat-icon-button aria-label="AVR Modem Help">
    <mat-icon>help</mat-icon>
  </a>
</mat-toolbar>
<div fxLayout="column" style="max-width: 640px; margin: 0 auto;">
  <mat-card fxLayout="column" style="margin: 10px">
    <mat-card-header>
      <mat-icon mat-card-avatar>launch</mat-icon>
      <mat-card-title>Output Box</mat-card-title>
    </mat-card-header>
    <mat-form-field class="example-form-field">
      <mat-label>Message</mat-label>
      <input matInput type="text" [(ngModel)]="message">
      <button mat-button *ngIf="message" matSuffix mat-icon-button aria-label="Clear" (click)="message=''">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
    <mat-card-actions align="end">
      <button mat-icon-button (click)="sendMessage(message)">
        <mat-icon>send</mat-icon>
      </button>
    </mat-card-actions>
  </mat-card>
  <mat-card fxLayout="column" style="margin: 10px">
    <mat-card-header>
      <mat-icon mat-card-avatar>input</mat-icon>
      <mat-card-title>Input Box</mat-card-title>
    </mat-card-header>
    <mat-form-field>
      <textarea matInput readonly rows="7" [value]="inputMessages"></textarea>
      <button mat-button *ngIf="message" matSuffix mat-icon-button aria-label="Clear" (click)="inputMessages=''">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
    <mat-card-actions align="end">
      <button mat-icon-button *ngIf="this.avrModemService.listen; else micOff"
              (click)="this.avrModemService.listen = false">
        <mat-icon>mic</mat-icon>
      </button>
      <ng-template #micOff>
        <button mat-icon-button (click)="this.avrModemService.listen = true">
          <mat-icon>mic_off</mat-icon>
        </button>
      </ng-template>
    </mat-card-actions>
  </mat-card>
</div>
